(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,n,t){e.exports=t(40)},38:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var a=t(0),u=t.n(a),o=t(11),r=t.n(o),i=t(12),l=t(2),c=function(e){return console.log("props:",e),u.a.createElement("p",null,e.person.name,"  ",e.person.number," ",u.a.createElement("button",{onClick:e.deletePressed},"delete")," ")},s=function(e){var n=e.message,t=e.type;return null===n?null:u.a.createElement("div",{className:t},n)},m=t(3),f=t.n(m),d="/api/persons",h=function(){return f.a.get(d).then(function(e){return e.data})},p=function(e){return f.a.post(d,e).then(function(e){return e.data})},b=function(e,n){return f.a.put("".concat(d,"/").concat(e),n).then(function(e){return e.data})},v=function(e){return f.a.delete("".concat(d,"/").concat(e)).then(function(e){return e.data})},E=function(e){return u.a.createElement("form",{onSubmit:e.onSubmit},u.a.createElement("div",null,"nimi: ",u.a.createElement("input",{value:e.newName,onChange:e.handleNameChange})),u.a.createElement("div",null,"numero: ",u.a.createElement("input",{value:e.newNumber,onChange:e.handleNumberChange})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},g=function(e){var n=e.persons,t=e.filter,a=e.removePerson;return u.a.createElement("div",null,n.filter(function(e){return e.name.toLowerCase().includes(t.toLowerCase())}).map(function(e){return u.a.createElement(c,{key:e.name,person:e,deletePressed:function(){return a(e.id,e.name)}})}))},j=function(e){var n=e.filter,t=e.handleFilterChange;return u.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4 ",u.a.createElement("input",{value:n,onChange:t})," ")},w=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],o=n[1];Object(a.useEffect)(function(){h().then(function(e){o(e)})},[]);var r=Object(a.useState)(""),c=Object(l.a)(r,2),m=c[0],f=c[1],d=Object(a.useState)(""),w=Object(l.a)(d,2),k=w[0],O=w[1],C=Object(a.useState)(""),N=Object(l.a)(C,2),S=N[0],y=N[1],H=Object(a.useState)(""),P=Object(l.a)(H,2),T=P[0],L=P[1],F=Object(a.useState)(""),J=Object(l.a)(F,2),x=J[0],B=J[1];return u.a.createElement("div",null,u.a.createElement("h1",null,"Puhelinluettelo"),u.a.createElement(s,{message:T,type:x}),u.a.createElement(j,{filter:S,handleFilterChange:function(e){y(e.target.value)}}),u.a.createElement("h2",null,"Lis\xe4\xe4 uusi"),u.a.createElement(E,{handleNameChange:function(e){f(e.target.value)},newName:m,handleNumberChange:function(e){console.log(e.target.value),O(e.target.value)},newNumber:k,onSubmit:function(e){e.preventDefault(),console.log("button pressed",e.target);var n={name:m,number:k};if(void 0===t.find(function(e){return e.name===m}))p(n).then(function(e){o(t.concat({name:m,number:k,id:e.id})),f(""),O("")}),L("Henkil\xf6n "+n.name+" lis\xe4\xe4minen onnistui."),B("ok"),setTimeout(function(){L(null)},2e3);else if(window.confirm("".concat(m," on jo luettelossa! Korvataanko vanha numero uudella?"))){var a=t.find(function(e){return e.name===m}),u=Object(i.a)({},a,{number:k});b(a.id,u).then(function(){return h().then(function(e){o(e)}).then(function(){f(""),O("")}).then(function(){L("Henkil\xf6n "+u.name+" muutos onnistui."),B("ok"),setTimeout(function(){L(null)},2e3)})}).catch(function(e){console.log("Error, person has been deleted"),h().then(function(e){return o(e)}),f(""),O(""),L("Henkil\xf6 "+u.name+" oli jo poistettu."),B("error"),setTimeout(function(){L(null)},2e3)})}}}),u.a.createElement("h2",null,"Numerot"),u.a.createElement(g,{persons:t,filter:S,removePerson:function(e,n){console.log("pressed delete button for ",e),window.confirm("Haluatko varmasti poistaa ".concat(n,"?"))&&v(e).then(function(){return h().then(function(e){o(e)})}).then(function(){L("Henkil\xf6 "+n+" poistettu onnistuneesti."),B("ok"),setTimeout(function(){L(null)},2e3)}).catch(function(e){console.log("delete operation failed"),L("Henkil\xf6 "+n+" poistettu  oli jo poistettu. P\xe4ivitet\xe4\xe4n n\xe4kym\xe4."),B("error"),h().then(function(e){return o(e)}),setTimeout(function(){L(null)},2e3)})}}))};t(38);r.a.render(u.a.createElement(w,null),document.getElementById("root"))}},[[13,2,1]]]);
//# sourceMappingURL=main.560e324b.chunk.js.map